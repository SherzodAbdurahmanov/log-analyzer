# üìä Log Analyzer

CLI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤ Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–æ–≤.

---

## üßæ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç

- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–æ–≥-—Ñ–∞–π–ª–æ–≤
- –§–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ `django.request`
- –°—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API –ø–æ –∫–∞–∂–¥–æ–º—É —É—Ä–æ–≤–Ω—é –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG, INFO, WARNING, ERROR, CRITICAL)
- –§–æ—Ä–º–∏—Ä—É–µ—Ç —Ç–∞–±–ª–∏—á–Ω—ã–π –æ—Ç—á—ë—Ç –≤ –∫–æ–Ω—Å–æ–ª—å
- –ì–æ—Ç–æ–≤ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é –ø–æ–¥ –Ω–æ–≤—ã–µ –≤–∏–¥—ã –æ—Ç—á—ë—Ç–æ–≤

---

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

-  Python 3.10+
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- –î–ª—è —Ç–µ—Å—Ç–æ–≤: pytest, pytest-cov

---

## üõ† –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt

‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫—Ä–æ–º–µ pytest –∏ pytest-cov –¥–ª—è —Ç–µ—Å—Ç–æ–≤ !
```
### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤
```bash
python main.py logs/app1.log logs/app2.log logs/app3.log --report handlers
```

###  üìä –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
```bash
Total requests: 188

HANDLER                  DEBUG     INFO      WARNING   ERROR     CRITICAL  
/admin/dashboard/        0         13        0         4         0         
/admin/login/            0         12        0         4         0         
/api/v1/auth/login/      0         12        0         2         0         
/api/v1/orders/          0         10        0         4         0         
/api/v1/support/         0         16        0         4         0         
... (–∏ —Ç.–¥.)
```

---

## üß© –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –æ—Ç—á—ë—Ç

#### 1. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –≤ reports/, –Ω–∞–ø—Ä–∏–º–µ—Ä reports/errors.py
#### 2. –î–æ–±–∞–≤–∏—Ç—å —Ç—É–¥–∞ —Ñ—É–Ω–∫—Ü–∏—é:
```python
def generate_report(data: Dict[str, Dict[str, int]]) -> None:
    # –≤–∞—à–∞ –ª–æ–≥–∏–∫–∞
```
#### 3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç –≤ main.py:
```python
from reports.errors import generate_report as errors_report

AVAILABLE_REPORTS = {
    "handlers": generate_report,
    "errors": errors_report
}
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Ç–µ—Å—Ç—ã

### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã:
- –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫ django.request
- –ß—Ç–µ–Ω–∏–µ –ª–æ–≥-—Ñ–∞–π–ª–æ–≤
- –í—ã–≤–æ–¥ –∏—Ç–æ–≥–æ–≤–æ–≥–æ –æ—Ç—á—ë—Ç–∞
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏: 98%

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```bash
python -m pytest
```
### –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º:
```bash
python -m pytest --cov=parser --cov=reports
```

###  üìä –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
```bash
========================================================================================== test session starts ==========================================================================================
platform darwin -- Python 3.12.6, pytest-8.3.5, pluggy-1.5.0
rootdir: /Users/sherzodrts/PycharmProjects/log-analyzer
plugins: cov-6.1.1
collected 5 items                                                                                                                                                                                       

tests/test_parser.py ....                                                                                                                                                                         [ 80%]
tests/test_reports.py .                                                                                                                                                                           [100%]

============================================================================================ tests coverage =============================================================================================
___________________________________________________________________________ coverage: platform darwin, python 3.12.6-final-0 ____________________________________________________________________________

Name                   Stmts   Miss  Cover
------------------------------------------
parser/__init__.py         0      0   100%
parser/log_parser.py      24      1    96%
reports/__init__.py        0      0   100%
reports/handlers.py       19      0   100%
------------------------------------------
TOTAL                     43      1    98%
=========================================================================================== 5 passed in 0.03s ===========================================================================================
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```perl
log-analyzer/
‚îú‚îÄ‚îÄ logs/                   # –ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤
‚îú‚îÄ‚îÄ parser/                 # –ü–∞—Ä—Å–∏–Ω–≥ –ª–æ–≥–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ log_parser.py
‚îú‚îÄ‚îÄ reports/                # –û—Ç—á—ë—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ handlers.py
‚îú‚îÄ‚îÄ tests/                  # Pytest-—Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ test_parser.py
‚îú‚îÄ‚îÄ main.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ requirements.txt        # (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å)
```




